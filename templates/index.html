
<html>
    <head>
        <title>Jawnt: SEPTA and Indego Connections</title>
        <!-- Leaflet JavaScript library is below -->
        <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
        integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
        crossorigin=""></script>
        <!-- D3 JavaScript library is below -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.16.0/d3.min.js"
        integrity="sha512-FHsFVKQ/T1KWJDGSbrUhTJyS1ph3eRrxI228ND0EGaEp6v4a/vGwPWd3Dtd/+9cI7ccofZvl/wulICEurHN1pg=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <!-- C3 JavaScript library is below -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.7.20/c3.js"
        integrity="sha512-11Z4MD9csmC3vH8Vd0eIPJBQu3uEHEqeznWEt3sLBCdQx3zm9mJbBcJH8WTcyGY9EXDE81BNpjE2vLosPK8cFQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="https://kit.fontawesome.com/457a87d66e.js" crossorigin="anonymous"></script>
        <script type='text/javascript'>
            var mapdata = {"type": "FeatureCollection", "features": [{"id": "0", "type": "Feature", "properties": {"At_Street": "Pattison Ave", "Average_Saturday_Ridership": 2884, "Average_Sunday_Ridership": 3214, "Average_Weekday_Ridership": 2618, 
            "Bench": "Yes", "City": "Philadelphia", "County": "Philadelphia", "Elevator": "Yes", "Escaltor": "Yes", "Fare_Information": "Yes", "GlobalID": "3995d35c-eb53-4f8e-89f5-03538c614e5d", "Handicap_Accesible": "Yes",
            "Latitude": 39.905434, "Lighting": "Yes", "Longitude": -75.173936, "Low_Income_Area": "No", "Map": "Yes", "Minority_Area": "No", "Minority___Low_Income_Area": "No", "Municipality": "Philadelphia", "Number_of_Daily_Parking_Spaces": "N/A",
            "Number_of_Permit_Parking_Spaces": "N/A", "OBJECTID": 1, "On_Street": "Broad St", "Owner": "SEPTA", "PA_State_House_District": 185, "PA_State_Senate_District": 1, "PA_US_Congressional_District": 1, "Parking_Available": "No",
            "Philadelphia_City_Council_Distr": 2, "Platform_Type": "Subway", "Recycling_Bin": "Yes", "Restroom": "Yes", "Route": "Broad Street Line", "Schedule_Information": "Yes", "Shelter": "Yes", "State": "PA", "Station": "NRG",
            "Station_Building": "Yes", "Stop_ID": 20001, "Street_Address": "3600 S. Broad St", "Taxi_Stand": "No", "Ticket_Office": "Yes", "Trash_Receptacle": "Yes", "Zip": 19145},
            "geometry": {"type": "Point", "coordinates": [-84.6931630346183, 39.1201480385426]}
            }]
            }
            //var mapdata = {{mapdata}};

            const iconSubway = L.divIcon({
                html: '<i class="fas fa-subway fa-3x"></i>',
                iconSize: [20, 20],
                className: 'icon-subway'
            });

        </script>
          <!-- Leaflet stylesheet is below -->
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
        integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
        crossorigin=""/>
        <!-- C3 stylesheet is below -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.7.20/c3.css"
        integrity="sha512-GQSxWe9Cj4o4EduO7zO9HjULmD4olIjiQqZ7VJuwBxZlkWaUFGCxRkn39jYnD2xZBtEilm0m4WBG7YEmQuMs5Q=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

  <!-- Stylesheet for the report's custom layout is below -->
  <style>
    body {
      font-family: sans;
      display: grid;
      grid-template-columns: 1fr 1fr;
      grid-template-rows: auto auto 1fr 1fr;
      grid-template-areas:
        "header header"
        "map list"
        "map chart1"
        "map chart2";
      column-gap: 1rem;
      row-gap: 1rem;
    }
    h1 {
      grid-area: header;
    }
    #stationmap {
      grid-area: map;
      height: 100%;
    }

    .icon-subway{
        color: blue;
        text-shadow: 2px 2px #CCC;
    }
    .icon-subway:hover{
        color: red;
        text-shadow: 2px 2px #CCC;
    }

  </style>
    </head>
    <body>
        <h1>Unifying SEPTA and Indego fares with Jawnt</h1>

  <div id="stationmap"></div>

  <div>
    <h3>Unified transit in Philadelphia</h3>
    <p>In the Philadelphia region there are XX SEPTA bus <i class="fas fa-bus "></i> stops, XX SEPTA train <i class="fas fa-subway "></i> stops, and XX Indego bike share  <i class="fas fa-bicycle "></i> stations.</p>
    <p>This interactive dashboard explores the benefits of unifying SEPTA and Indego stations.</p>
    <p>On the whole there are usually about XX Indego stops within a 5-minute walk from any given SEPTA stop. The most connected stop is XXX.</p>
</div>


          <script>
    /*
        MAP OF POP. DENSITY ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    */
    var initialCenter = [39.945, -75.154];  // <-- Latitude, Longitude
    var initialZoom = 13;
    var stationmap = L.map('stationmap', {
      zoomSnap: 0,
      zoomDelta: 0.25
    }).setView(initialCenter, initialZoom);

    var baseLayer = new L.tileLayer('https://stamen-tiles-{s}.a.ssl.fastly.net/toner-background/{z}/{x}/{y}{r}.{ext}', {
    	attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
    	subdomains: 'abcd',
    	minZoom: 0,
    	maxZoom: 20,
    	ext: 'png'
    });
    baseLayer.addTo(stationmap);

    //iterates through the array object called from the server
    mapdata.features.forEach( function(location){
        var marker = L.marker([location.properties.Latitude, location.properties.Longitude], {icon: iconSubway}).addTo(stationmap);
        marker.bindPopup(location.properties.Station);
    });

  </script>

    </body>
</html>

